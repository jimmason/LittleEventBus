<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Littleeventbus by jimmason</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Littleeventbus</h1>
      <h2 class="project-tagline"></h2>
      <a href="https://github.com/jimmason/littleeventbus" class="btn">View on GitHub</a>
      <a href="https://github.com/jimmason/littleeventbus/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/jimmason/littleeventbus/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="little-event-bus" class="anchor" href="#little-event-bus" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Little Event Bus</h1>

<p>Little event bus is a lightweight event bus for .net applications. Its designed for when you want to incorporate eventing in your application but don't necessarily need CQRS and Event Sourcing. This isn't to say that Little Event Bus cannot be used in these scenarios, but its features and the terminology used are focused on event driven applications over anything else.</p>

<h2>
<a id="obtaining-little-event-bus" class="anchor" href="#obtaining-little-event-bus" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Obtaining Little Event Bus</h2>

<p>Little Event Bus is available on Nuget</p>

<pre><code>PM&gt; Install-Package LittleEventBus
PM&gt; Install-Package LittleEventBus.StructureMap

</code></pre>

<p>Or via the <a href="https://github.com/jimmason/LittleEventBus/releases">GitHub Releases</a></p>

<h2>
<a id="getting-started" class="anchor" href="#getting-started" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Getting Started</h2>

<h4>
<a id="events" class="anchor" href="#events" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Events</h4>

<p>Events should inherit from the Event base class and set the EventId to a new Guid or the Id of your Aggregate Root Object.</p>

<div class="highlight highlight-source-cs"><pre>    <span class="pl-k">public</span> <span class="pl-k">sealed</span> <span class="pl-k">class</span> <span class="pl-en">OrderPlaced</span> : <span class="pl-k">Event</span>
    {
        <span class="pl-k">public</span> <span class="pl-en">OrderPlaced</span>(<span class="pl-k">Guid</span> <span class="pl-smi">id</span>)
        {
            <span class="pl-c1">base</span>.EventId = id;
        }
    }</pre></div>

<h4>
<a id="the-event-bus" class="anchor" href="#the-event-bus" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>The Event Bus</h4>

<p>Events can be placed on the bus like so.</p>

<div class="highlight highlight-source-cs"><pre><span class="pl-c">//Create an event</span>
<span class="pl-k">var</span> @event = <span class="pl-k">new</span> OrderPlaced(Guid.NewGuid());

<span class="pl-c">//publish the event</span>
<span class="pl-c1">this</span>.eventBus.PublishEvent(@event);

<span class="pl-c">//events can also be published asynchronously</span>
<span class="pl-c1">this</span>.eventBus.PublishEventAsync(@event);
</pre></div>

<h4>
<a id="event-handlers" class="anchor" href="#event-handlers" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Event Handlers</h4>

<p>Event Handlers handle events that are placed on to the bus. Each time an event is published Handle will be called on each event handler.
These should ideally (though it isn't required) be named in a DoSomethingOnEventName format.
You can have as many Event Handlers as you like for each event.</p>

<div class="highlight highlight-source-cs"><pre><span class="pl-k">public</span> <span class="pl-k">sealed</span> <span class="pl-k">class</span> <span class="pl-en">EmailCustomerOnOrderPlaced</span> : <span class="pl-k">IEventHandler</span>&lt;<span class="pl-k">OrderPlaced</span>&gt;
    {
        <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">Handle</span>(OrderPlaced @event)
        {
            Console.WriteLine(<span class="pl-s"><span class="pl-pds">"</span>Handle Called EmailCustomerOnOrderPlaced Event Handler<span class="pl-pds">"</span></span>);
        }
    }</pre></div>

<h2>
<a id="setup-for-various-ioc-containers" class="anchor" href="#setup-for-various-ioc-containers" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Setup for various IoC Containers</h2>

<p>Little Event Bus Requires the usage of an IoC Container. Support for which is supplied via each containers own library. The long term goal is to support all major Containers, the following are currently supported.</p>

<ul>
<li>StructureMap</li>
<li>NanoIoC</li>
</ul>

<h4>
<a id="setup-for-nanoioc" class="anchor" href="#setup-for-nanoioc" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Setup for NanoIoC</h4>

<p>Ensure you are calling the following in your applications startup</p>

<div class="highlight highlight-source-cs"><pre>
Container.Global.RunAllRegistries();
Container.Global.RunAllTypeProcessors();
</pre></div>

<h4>
<a id="setup-for-structuremap" class="anchor" href="#setup-for-structuremap" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Setup for StructureMap</h4>

<p>A registry is provided for StructureMap. Ensure you include the following when configuring StructureMap.
If you are using this registry you will need to provide a type of one of your event handlers so it knows where to look</p>

<pre lang="chsharp"><code>x.AddRegistry(new LittleEventBusRegistry(typeof([OneOfYourEventHandlers])));

</code></pre>

<h2>
<a id="testing" class="anchor" href="#testing" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Testing</h2>

<p>For testing a purely synchronous implementation of IEventBus is provided in the form of SynchronousEventBus. This can be swapped in to ensure that Asynchronous events are published in a Synchronous manner.</p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/jimmason/littleeventbus">Littleeventbus</a> is maintained by <a href="https://github.com/jimmason">jimmason</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
